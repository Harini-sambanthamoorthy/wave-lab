<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Universal Spectrum Lab</title>
<style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    canvas { border: 1px solid #ccc; display: block; margin-bottom: 10px; }
    .controls { margin-bottom: 10px; }
</style>
</head>
<body>

<h2>Universal Spectrum Lab v1.0</h2>

<div class="controls">
    <label for="scenarioSelect">Communication Scenario:</label>
    <select id="scenarioSelect">
        <option value="Tower-Tower">Tower-Tower</option>
        <option value="Satellite-Tower">Satellite-Tower</option>
        <option value="Device-Device">Device-Device</option>
    </select>

    <label for="freqSlider">Frequency:</label>
    <input type="range" id="freqSlider" min="1" max="10" value="1">
    <span id="freqDisplay">1</span>
</div>

<canvas id="unifiedCanvas" width="800" height="500"></canvas>

<div class="instructions">
    <p>Click on the canvas to emit a wave from that point.</p>
    <p>Waves interact with obstacles (red boxes) and frequency affects propagation speed.</p>
</div>

<script src="spectrum-lab.js"></script>
<script>
const lab = new SpectrumLab('unifiedCanvas');

// Add example obstacles
lab.addObstacle(new Obstacle(300, 150, 100, 50));
lab.addObstacle(new Obstacle(500, 300, 150, 75));

// Frequency control
const freqSlider = document.getElementById('freqSlider');
const freqDisplay = document.getElementById('freqDisplay');
freqSlider.addEventListener('input', () => {
    lab.setFrequency(parseFloat(freqSlider.value));
    freqDisplay.textContent = freqSlider.value;
});

// Scenario selection
document.getElementById('scenarioSelect').addEventListener('change', (e) => {
    lab.setScenario(e.target.value);
});

// Emit wave on click
lab.canvas.addEventListener('click', (e) => {
    const rect = lab.canvas.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    lab.addWave(x, y);
});

// Legend
const ctx = lab.ctx;
ctx.font = "14px Arial";
ctx.fillStyle = "black";
ctx.fillText("Legend: Blue = Tower-Tower, Green = Satellite-Tower, Orange = Device-Device, Red = Obstacle", 10, 490);
</script>

</body>
</html>
